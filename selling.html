<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sell Items</title>
  </head>

  <body>
    <main style="padding: 20px">
      <!-- Sell Your Item Section -->
      <section id="sell">
        <h2 style="text-align: center">Sell Your Items</h2>
        <form
          id="sell-form"
          enctype="multipart/form-data"
          style="
            display: flex;
            flex-direction: column;
            width: 300px;
            margin: 0 auto;
            padding: 20px;
            border: 2px solid #ccc;
            border-radius: 8px;
            background-color: white;
          "
        >
          <label for="item-name" style="margin-bottom: 5px">Item Name:</label>
          <input
            type="text"
            id="item-name"
            name="item-name"
            required
            style="
              margin-bottom: 10px;
              padding: 10px;
              border: 1px solid #ccc;
              border-radius: 4px;
            "
          />

          <label for="item-description" style="margin-bottom: 5px"
            >Item Description:</label
          >
          <textarea
            id="item-description"
            name="item-description"
            required
            style="
              margin-bottom: 10px;
              padding: 10px;
              border: 1px solid #ccc;
              border-radius: 4px;
            "
          ></textarea>

          <label for="item-price" style="margin-bottom: 5px">Item Price:</label>
          <input
            type="number"
            id="item-price"
            name="item-price"
            required
            style="
              margin-bottom: 10px;
              padding: 10px;
              border: 1px solid #ccc;
              border-radius: 4px;
            "
          />

          <label for="item-image" style="margin-bottom: 5px"
            >Upload Image:</label
          >
          <input
            type="file"
            id="item-image"
            name="item-image"
            accept="image/*"
            required
            style="
              margin-bottom: 10px;
              padding: 10px;
              border: 1px solid #ccc;
              border-radius: 4px;
            "
          />

          <button
            type="submit"
            style="
              padding: 10px 15px;
              background-color: #333;
              color: white;
              border: none;
              border-radius: 4px;
              cursor: pointer;
            "
          >
            Submit Item
          </button>
        </form>
      </section>

      <!-- View Items Section -->
      <section id="items" style="margin-top: 40px">
        <h2 style="text-align: center">Items for Sale</h2>
        <div
          id="item-list"
          style="
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
          "
        >
          <!-- Items will be displayed here dynamically -->
        </div>
      </section>
    </main>
    <script src="./base.js"></script>
    <script>
      // Handle the form submission
      document
        .getElementById("sell-form")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          // Get form values
          const itemName = document.getElementById("item-name").value;
          const itemDescription =
            document.getElementById("item-description").value;
          const itemPrice = document.getElementById("item-price").value;
          const itemImage = document.getElementById("item-image").files[0];

          // Display the new item in the items list
          const itemList = document.getElementById("item-list");

          const itemDiv = document.createElement("div");
          itemDiv.classList.add("item");

          const itemImageURL = URL.createObjectURL(itemImage);
          itemDiv.innerHTML = `
          <div style="border: 1px solid #ccc; padding: 15px; text-align: center; border-radius: 8px;">
            <img src="${itemImageURL}" alt="${itemName}" style="width: 100%; height: auto; border-radius: 4px;" />
            <h3 style="margin-top: 10px;">${itemName}</h3>
            <p>${itemDescription}</p>
            <p style="font-weight: bold;">Price: $${itemPrice}</p>
          </div>
        `;

          itemList.appendChild(itemDiv);

          // Clear the form
          document.getElementById("sell-form").reset();
        });
    </script>
  </body>
</html>
